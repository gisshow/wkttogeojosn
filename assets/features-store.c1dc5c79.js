import{r as b,L as P,M as $,N as U,O as X,o as J,G as R,y as z,t as L,c as V,Q as Y,R as Z}from"./index.40fcf7c0.js";function G(e){return $()?(U(e),!0):!1}function _(e){return typeof e=="function"?e():X(e)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const k=Object.prototype.toString,ee=e=>k.call(e)==="[object Object]",te=()=>{};function ne(e,t){function n(...r){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(a).catch(i)})}return n}const I=e=>e();function re(e=I){const t=b(!0);function n(){t.value=!1}function r(){t.value=!0}const a=(...i)=>{t.value&&e(...i)};return{isActive:P(t),pause:n,resume:r,eventFilter:a}}function oe(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function ie(e){return e||L()}function ae(e,t,n={}){const{eventFilter:r=I,...a}=n;return z(e,ne(r,t),a)}function se(e,t,n={}){const{eventFilter:r,...a}=n,{eventFilter:i,pause:c,resume:f,isActive:m}=re(r);return{stop:ae(e,t,{...a,eventFilter:i}),pause:c,resume:f,isActive:m}}function ue(e,t=!0,n){ie()?J(e,n):t?e():R(e)}function le(e,t,n={}){const{immediate:r=!0}=n,a=b(!1);let i=null;function c(){i&&(clearTimeout(i),i=null)}function f(){a.value=!1,c()}function m(...u){c(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,e(...u)},_(t))}return r&&(a.value=!0,C&&m()),G(f),{isPending:P(a),start:m,stop:f}}function ce(e){var t;const n=_(e);return(t=n==null?void 0:n.$el)!=null?t:n}const W=C?window:void 0;C&&window.document;const q=C?window.navigator:void 0;C&&window.location;function M(...e){let t,n,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,a]=e,t=W):[t,n,r,a]=e,!t)return te;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],c=()=>{i.forEach(d=>d()),i.length=0},f=(d,l,h,g)=>(d.addEventListener(l,h,g),()=>d.removeEventListener(l,h,g)),m=z(()=>[ce(t),_(a)],([d,l])=>{if(c(),!d)return;const h=ee(l)?{...l}:l;i.push(...n.flatMap(g=>r.map(F=>f(d,g,F,h))))},{immediate:!0,flush:"post"}),u=()=>{m(),c()};return G(u),u}function fe(){const e=b(!1),t=L();return t&&J(()=>{e.value=!0},t),e}function B(e){const t=fe();return V(()=>(t.value,Boolean(e())))}function j(e,t={}){const{controls:n=!1,navigator:r=q}=t,a=B(()=>r&&"permissions"in r);let i;const c=typeof e=="string"?{name:e}:e,f=b(),m=()=>{i&&(f.value=i.state)},u=oe(async()=>{if(!!a.value){if(!i)try{i=await r.permissions.query(c),M(i,"change",m),m()}catch{f.value="prompt"}return i}});return u(),n?{state:f,isSupported:a,query:u}:f}function he(e={}){const{navigator:t=q,read:n=!1,source:r,copiedDuring:a=1500,legacy:i=!1}=e,c=B(()=>t&&"clipboard"in t),f=j("clipboard-read"),m=j("clipboard-write"),u=V(()=>c.value||i),d=b(""),l=b(!1),h=le(()=>l.value=!1,a);function g(){c.value&&A(f.value)?t.clipboard.readText().then(s=>{d.value=s}):d.value=w()}u.value&&n&&M(["copy","cut"],g);async function F(s=_(r)){u.value&&s!=null&&(c.value&&A(m.value)?await t.clipboard.writeText(s):v(s),d.value=s,l.value=!0,h.start())}function v(s){const y=document.createElement("textarea");y.value=s??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function w(){var s,y,O;return(O=(y=(s=document==null?void 0:document.getSelection)==null?void 0:s.call(document))==null?void 0:y.toString())!=null?O:""}function A(s){return s==="granted"||s==="prompt"}return{isSupported:u,text:d,copied:l,copy:F}}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E="__vueuse_ssr_handlers__",de=pe();function pe(){return E in N||(N[E]=N[E]||{}),N[E]}function me(e,t){return de[e]||t}function ye(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},D="vueuse-storage";function ve(e,t,n,r={}){var a;const{flush:i="pre",deep:c=!0,listenToStorageChanges:f=!0,writeDefaults:m=!0,mergeDefaults:u=!1,shallow:d,window:l=W,eventFilter:h,onError:g=o=>{console.error(o)},initOnMounted:F}=r,v=(d?Y:b)(typeof t=="function"?t():t);if(!n)try{n=me("getDefaultStorage",()=>{var o;return(o=W)==null?void 0:o.localStorage})()}catch(o){g(o)}if(!n)return v;const w=_(t),A=ye(w),s=(a=r.serializer)!=null?a:ge[A],{pause:y,resume:O}=se(v,()=>H(v.value),{flush:i,deep:c,eventFilter:h});l&&f&&ue(()=>{M(l,"storage",T),M(l,D,K),F&&T()}),F||T();function x(o,p){l&&l.dispatchEvent(new CustomEvent(D,{detail:{key:e,oldValue:o,newValue:p,storageArea:n}}))}function H(o){try{const p=n.getItem(e);if(o==null)x(p,null),n.removeItem(e);else{const S=s.write(o);p!==S&&(n.setItem(e,S),x(p,S))}}catch(p){g(p)}}function Q(o){const p=o?o.newValue:n.getItem(e);if(p==null)return m&&w!=null&&n.setItem(e,s.write(w)),w;if(!o&&u){const S=s.read(p);return typeof u=="function"?u(S,w):A==="object"&&!Array.isArray(S)?{...w,...S}:S}else return typeof p!="string"?p:s.read(p)}function T(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){v.value=w;return}if(!(o&&o.key!==e)){y();try{(o==null?void 0:o.newValue)!==s.write(v.value)&&(v.value=Q(o))}catch(p){g(p)}finally{o?R(O):O()}}}}function K(o){T(o.detail)}return v}const Se=Z("features",{state:()=>({features:ve("featuresStorage",[]),searchQuery:"",map:"",featureRef:[]}),getters:{getFeatures:e=>e.features,getFeatureById:e=>t=>e.features.find(n=>n.id===t)},actions:{addFeature(e){this.features.push(e)},editFeature(e,t){this.features.find(n=>n.id===e)},deleteFeature(e){const t=this.features.findIndex(n=>n.id===e);this.features.splice(t)}}});export{he as a,Se as u};
